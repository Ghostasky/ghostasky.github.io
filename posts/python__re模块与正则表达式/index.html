<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>Python__RE模块与正则表达式 - Ghostasky&#39;s Blog</title><meta name="author" content="">
<meta name="author-link" content="">
<meta name="description" content="" /><meta name="keywords" content='Python' /><meta itemprop="name" content="Python__RE模块与正则表达式">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2020-11-21T00:24:49+00:00" />
<meta itemprop="dateModified" content="2020-11-21T00:24:49+00:00" />
<meta itemprop="wordCount" content="3516">
<meta itemprop="keywords" content="Python," /><meta property="og:title" content="Python__RE模块与正则表达式" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/python__re%E6%A8%A1%E5%9D%97%E4%B8%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-21T00:24:49+00:00" />
<meta property="article:modified_time" content="2020-11-21T00:24:49+00:00" />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Python__RE模块与正则表达式"/>
<meta name="twitter:description" content=""/>
<meta name="application-name" content="FixIt">
<meta name="apple-mobile-web-app-title" content="FixIt"><meta name="theme-color" data-light="#f8f8f8" data-dark="#252627" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" href="http://localhost:1313/posts/python__re%E6%A8%A1%E5%9D%97%E4%B8%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" /><link rel="prev" href="http://localhost:1313/posts/sql%E6%B3%A8%E5%85%A5%E5%B0%8F%E7%BB%93/" /><link rel="next" href="http://localhost:1313/posts/buu-re-1/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Python__RE模块与正则表达式",
    "inLanguage": "zh-CN",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http:\/\/localhost:1313\/posts\/python__re%E6%A8%A1%E5%9D%97%E4%B8%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F\/"
    },"genre": "posts","keywords": "Python","wordcount":  3516 ,
    "url": "http:\/\/localhost:1313\/posts\/python__re%E6%A8%A1%E5%9D%97%E4%B8%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F\/","datePublished": "2020-11-21T00:24:49+00:00","dateModified": "2020-11-21T00:24:49+00:00","publisher": {
      "@type": "Organization",
      "name": ""},"author": {
        "@type": "Person",
        "name": "作者"
      },"description": ""
  }
  </script></head>
  <body data-header-desktop="sticky" data-header-mobile="auto"><script>(window.localStorage?.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('data-theme', 'dark');</script><div class="wrapper" data-page-style="normal"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper">
    <div class="header-title">
      <a href="/" title="Ghostasky&#39;s Blog"><img loading="lazy" src="/images/fixit.png" alt="Ghostasky&#39;s Blog" data-title="Ghostasky&#39;s Blog" class="logo" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/><span class="header-title-text">Ghostasky&#39;s Blog</span></a><span class="header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a
                class="menu-link"
                href="/posts/"
                
                
              >文章</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/categories/"
                
                
              >分类</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/tags/"
                
                
              >标签</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/about/"
                
                
              >关于</a></li><li class="menu-item delimiter"></li><li class="menu-item theme-switch" title="切换主题">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li></ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="Ghostasky&#39;s Blog"><img loading="lazy" src="/images/fixit.png" alt="/images/fixit.png" data-title="/images/fixit.png" class="logo" style="background: url(/images/loading.min.svg) no-repeat center;" onload="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}this.dataset.lazyloaded='';" onerror="this.title=this.dataset.title;for(const i of ['style', 'data-title','onerror','onload']){this.removeAttribute(i);}"/><span class="header-title-text">Ghostasky&#39;s Blog</span></a><span class="header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/posts/"
                  
                  
                >文章</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/categories/"
                  
                  
                >分类</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/tags/"
                  
                  
                >标签</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/about/"
                  
                  
                >关于</a></li><li class="menu-item menu-system">
          <span class="menu-system-item theme-switch" title="切换主题"><i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i></span></li>
      </ul>
    </nav>
  </div>
</header><main class="container"><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label="合集"></aside>

  <article class="page single">
    <div class="header"><h1 class="single-title animate__animated animate__flipInX"><span>Python__RE模块与正则表达式</span>
      </h1></div><div class="post-meta">
      <div class="post-meta-line"><span class="post-author"><span class="author"><i class="fa-solid fa-user-circle" aria-hidden="true"></i>
      Anonymous</span></span><span class="post-included-in">&nbsp;收录于 <a href="/categories/technology/" class="post-category" title="分类 - Technology"><i class="fa-regular fa-folder fa-fw" aria-hidden="true"></i> Technology</a></span></div><div class="post-meta-line"><span title="发布于 2020-11-21 00:24:49"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden="true"></i><time datetime="2020-11-21">2020-11-21</time></span>&nbsp;<span title="3516 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden="true"></i>约 3600 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden="true"></i>预计阅读 8 分钟</span>&nbsp;</div>
    </div><div class="details toc" id="toc-static" data-kept="false">
        <div class="details-summary toc-title">
          <span>目录</span>
          <span><i class="details-icon fa-solid fa-angle-right" aria-hidden="true"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#一python模块之re模块">一Python模块之RE模块</a>
      <ul>
        <li><a href="#1rematchpatternstringflags">1.re.match(pattern,string,[flags])</a></li>
        <li><a href="#2researchpatternstringflags">2.re.search(pattern,string,[flags])</a></li>
      </ul>
    </li>
    <li><a href="#3resplitpatternstringflags">3.re.split(pattern,string,[flags])</a>
      <ul>
        <li><a href="#4refindallpatternstringflags">4.re.findall(pattern,string,[flags])</a></li>
        <li><a href="#5refinditerpatternstringflags">5.re.finditer(pattern,string,[flags])</a></li>
        <li><a href="#6resubpatternreplstring-count">6.re.sub(pattern,repl,string ,[count])</a></li>
        <li><a href="#7resubnpatternreplstringcount">7.re.subn(pattern,repl,string,[count])</a></li>
      </ul>
    </li>
    <li><a href="#二正则表达式">二、正则表达式</a>
      <ul>
        <li><a href="#1定界符">1.定界符</a></li>
        <li><a href="#2原子">2.原子</a></li>
      </ul>
    </li>
    <li><a href="#3元字符">3.元字符</a>
      <ul>
        <li><a href="#模式匹配的优先级">模式匹配的优先级：</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
      </div><div class="content" id="content"><p>[TOC]</p>
<hr>
<h2 id="一python模块之re模块" class="heading-element">
  <a href="#%e4%b8%80python%e6%a8%a1%e5%9d%97%e4%b9%8bre%e6%a8%a1%e5%9d%97" class="heading-mark"></a>一Python模块之RE模块</h2><p>一些可选值：</p>
<ul>
<li>re.I（全拼：ignorecase）：忽略大小写</li>
<li>re.M（全拼：multiline）：多行模式，改变^和$的行为</li>
<li>re.S（全拼：datall）：点任意匹配模式，改变.的行为</li>
<li>re.L（全拼locale）：是预定字符串类\w \W \b \B \s \S取决于当前区域设定</li>
<li>re.U（全拼：UNICODE）: 使预定字符类 \w \W \b \B \s \S \d \D 取决于unicode定义的字符属性</li>
<li>re.X（全拼：VERBOSE）: 详细模式。这个模式下正则表达式可以是多行，忽略空白字符，并可以加入注释。</li>
</ul>
<p>方法：</p>
<p>1.group([group1, …]):
获得一个或多个分组截获的字符串；指定多个参数时将以元组形式返回。group1可以使用编号也可以使用别名；编号0代表整个匹配的子串；不填写参数时，返回group(0)；没有截获字符串的组返回None；截获了多次的组返回最后一次截获的子串。
2.groups([default]):
以元组形式返回全部分组截获的字符串。相当于调用group(1,2,…last)。default表示没有截获字符串的组以这个值替代，默认为None。
3.groupdict([default]):
返回以有别名的组的别名为键、以该组截获的子串为值的字典，没有别名的组不包含在内。default含义同上。
4.start([group]):
返回指定的组截获的子串在string中的起始索引（子串第一个字符的索引）。group默认值为0。
5.end([group]):
返回指定的组截获的子串在string中的结束索引（子串最后一个字符的索引+1）。group默认值为0。
6.span([group]):
返回(start(group), end(group))。
7.expand(template):
将匹配到的分组代入template中然后返回。template中可以使用\id或\g、\g引用分组，但不能使用编号0。\id与\g是等价的；但\10将被认为是第10个分组，如果你想表达\1之后是字符’0’，只能使用\g0。</p>
<p>pattern可以理解为一个匹配模式，利用re.compile方法就可以。例如:</p>
<p><code>pattern = re.compile(r'hello')</code></p>
<p>在参数中传入原生字符串对象，通过compile方法生成一个pattern对象。</p>
<h3 id="1rematchpatternstringflags" class="heading-element">
  <a href="#1rematchpatternstringflags" class="heading-mark"></a>1.re.match(pattern,string,[flags])</h3><p>这个方法会从string字符串的开头开始，尝试匹配pattern，一直向后匹配，如遇到无法匹配的字符串，返回None，如果匹配未结束已经到达string尾，也会返回None。另个结果表示匹配失败，否则成功，同时匹配终止。</p>
<div class="highlight" id="id-1"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl"><span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span><span class="c1">#r的意思是&#34;原生字符串&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">result_1</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">result_2</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="s1">&#39;helloo, ASDF&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">result_3</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="s1">&#39;helo asdf&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">result_4</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="s1">&#39;hello adf&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">result_1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="n">result_1</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="s2">&#34;result_1 匹配失败&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">result_2</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="n">result_2</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="s2">&#34;result_2 匹配失败&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">result_3</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="n">result_3</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="s2">&#34;result_3 匹配失败&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">result_4</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="n">result_4</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="s2">&#34;result_4 匹配失败&#34;</span></span></span></code></pre></div><p>结果是只有3未匹配&hellip;</p>
<h3 id="2researchpatternstringflags" class="heading-element">
  <a href="#2researchpatternstringflags" class="heading-mark"></a>2.re.search(pattern,string,[flags])</h3><p>与match类似，match是从头开始检测，search会扫描整个string</p>
<div class="highlight" id="id-2"><pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl"><span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span><span class="c1">#r的意思是&#34;原生字符串&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">result_1</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">result_2</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="s1">&#39;helloo, ASDF&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">result_3</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="s1">&#39;helo asdf&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">result_4</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="k">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="s1">&#39;hello adf&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">result_1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="n">result_1</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="s2">&#34;result_1 匹配失败&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">result_2</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="n">result_2</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="s2">&#34;result_2 匹配失败&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">result_3</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="n">result_3</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="s2">&#34;result_3 匹配失败&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">result_4</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="n">result_4</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="s2">&#34;result_4 匹配失败&#34;</span></span></span></code></pre></div><h2 id="3resplitpatternstringflags" class="heading-element">
  <a href="#3resplitpatternstringflags" class="heading-mark"></a>3.re.split(pattern,string,[flags])</h2><p>按照能够匹配的子串将少天日工分割后返回列表。</p>
<p>maxsplit用于指定最大分割次数，不指定将全部分割</p>
<div class="highlight" id="id-3"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl"><span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="s1">&#39;one1two2three3&#39;</span><span class="p">)</span></span></span></code></pre></div><h3 id="4refindallpatternstringflags" class="heading-element">
  <a href="#4refindallpatternstringflags" class="heading-mark"></a>4.re.findall(pattern,string,[flags])</h3><p>搜索string，以列表的形式返回全部匹配的子串</p>
<div class="highlight" id="id-4"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl"><span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="s1">&#39;one1two2three3&#39;</span><span class="p">)</span></span></span></code></pre></div><h3 id="5refinditerpatternstringflags" class="heading-element">
  <a href="#5refinditerpatternstringflags" class="heading-mark"></a>5.re.finditer(pattern,string,[flags])</h3><p>搜索string，返回一个顺序访问没一个匹配结果（match对象）的迭代器</p>
<div class="highlight" id="id-5"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">re</span>
</span></span><span class="line"><span class="cl"><span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="s1">&#39;one1two2three3four4&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span> <span class="n">i</span><span class="o">.</span><span class="n">group</span><span class="p">()</span></span></span></code></pre></div><h3 id="6resubpatternreplstring-count" class="heading-element">
  <a href="#6resubpatternreplstring-count" class="heading-mark"></a>6.re.sub(pattern,repl,string ,[count])</h3><p>使用repl替换string中没一个匹配的子串返回替换后的字符串</p>
<h3 id="7resubnpatternreplstringcount" class="heading-element">
  <a href="#7resubnpatternreplstringcount" class="heading-mark"></a>7.re.subn(pattern,repl,string,[count])</h3><p>返回 (sub(repl, string[, count]), 替换次数)</p>
<h2 id="二正则表达式" class="heading-element">
  <a href="#%e4%ba%8c%e6%ad%a3%e5%88%99%e8%a1%a8%e8%be%be%e5%bc%8f" class="heading-mark"></a>二、正则表达式</h2><p>正则表达式由以下几个部分组成：</p>
<ul>
<li>原子（普通字符，如a~z）</li>
<li>有特殊功能的字符（称为元字符，例如*+？等）</li>
<li>模式修正符</li>
</ul>
<p><code>/&lt;a.*?(?:|\\t|\\r|\\n)?href=[\'&quot;]?(.+?)[\'&quot;]?(?:(?:|\\t|\\r|\\n)+.*?)?&gt;(.+?)&lt;\/a.*?&gt;/sim</code></p>
<p>拆分后如下：</p>
<ul>
<li>定界符使用的是两个斜线&rsquo;/'</li>
<li>原子用到了&lt;、a、href、=、&rsquo;、&quot;、等普通字符和\t,\r,\n等转义字符</li>
<li>元字符使用了<a href=""></a>|.*?+d等具有特殊含义的字符</li>
</ul>
<h3 id="1定界符" class="heading-element">
  <a href="#1%e5%ae%9a%e7%95%8c%e7%ac%a6" class="heading-mark"></a>1.定界符</h3><p>不仅仅局限于斜杠/，除了字母、数字、反斜线以外的字符都可以，如#!{}|等</p>
<h3 id="2原子" class="heading-element">
  <a href="#2%e5%8e%9f%e5%ad%90" class="heading-mark"></a>2.原子</h3><p>原子是正则表达式最基本的组成单位，这里将其划分为5类进行介绍：</p>
<ol>
<li>
<p>普通字符作为原子</p>
<pre tabindex="0"><code>如a~z,0~9,A~Z等
/5/  ---用于匹配是否有5
/php/  ---用于匹配是否有php</code></pre></li>
<li>
<p>一些特殊字符和元字符作为原子</p>
<pre tabindex="0"><code>使用特殊字符必须转义，如：
/\./    --用于匹配是否由于.出现
/\&lt;br \/&gt;/---用于匹配是否有&lt;br /&gt;出现</code></pre></li>
<li>
<p>一些非打印字符作为原子</p>
<p>非打印字符，如空格，回车，制表符等。</p>
<table>
<thead>
<tr>
<th>原子字符</th>
<th>含义描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>\cx</td>
<td>匹配一个由x指明的控制字符，例如，\cM匹配一个Ctrl+M或回车符。x的值必须为a~z或者A~Z之一。否则，将c视为一个原义的d字符</td>
</tr>
<tr>
<td>\f</td>
<td>匹配一个换页符</td>
</tr>
<tr>
<td>\n</td>
<td>匹配一个换行符</td>
</tr>
<tr>
<td>\r</td>
<td>匹配一个回车符</td>
</tr>
<tr>
<td>\t</td>
<td>匹配一个制表符</td>
</tr>
<tr>
<td>\v</td>
<td>匹配一个垂直制表符</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>使用“通用字符类型”作为原子</p>
<p>前面介绍 的不管是打印字符还是非打印字符，都是一个原子只能匹配一个字符。有时需要匹配所有字母或者所有数字，这是就要用“通用字符类型”</p>
<table>
<thead>
<tr>
<th>原子字符</th>
<th>含义描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>\d</td>
<td>匹配任意一个十进制数字，等价于[0~9]</td>
</tr>
<tr>
<td>\D</td>
<td>匹配任意一个非十进制数字，等价于[ ^ 0~9 ]</td>
</tr>
<tr>
<td>\s</td>
<td>匹配任意一个空白字符</td>
</tr>
<tr>
<td>\S</td>
<td>匹配出空白字符以外的任何一个字符</td>
</tr>
<tr>
<td>\w</td>
<td>匹配任意一个数字、字母、或下划线</td>
</tr>
<tr>
<td>\W</td>
<td>匹配除数字、字母、或下划线以外的任何一个字符</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>自定义原子表[]作为原子</p>
<p>直接上例子：</p>
<pre tabindex="0"><code>/[apj]sp/   ---可以匹配asp jsp或psp三种，从原子表中仅选一种作为原子
/[^apj]sp   ---可以匹配除asp jsp 和PSP之外的字符串，如xsp，zsp等
/0[xX][0-9a-fA-F]  ---可以匹配一个简单的十六进制数</code></pre></li>
</ol>
<h2 id="3元字符" class="heading-element">
  <a href="#3%e5%85%83%e5%ad%97%e7%ac%a6" class="heading-mark"></a>3.元字符</h2><table>
<thead>
<tr>
<th>元字符</th>
<th>含义描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>匹配0次1次或多次其前的原子</td>
</tr>
<tr>
<td>+</td>
<td>匹配1次或多次其前的原子</td>
</tr>
<tr>
<td>?</td>
<td>匹配0次或1次其前的原子</td>
</tr>
<tr>
<td>|</td>
<td>匹配两个或多个分支选择</td>
</tr>
<tr>
<td>.</td>
<td>匹配除了换行符之外的任意一个字符</td>
</tr>
<tr>
<td>{n}</td>
<td>表示其前面的原子恰好出现n次</td>
</tr>
<tr>
<td>{n,}</td>
<td>表示其前面的原子出现不少于n次</td>
</tr>
<tr>
<td>{n,m}</td>
<td>其前面的原子出现次数介于n和m之间</td>
</tr>
<tr>
<td>^或\A</td>
<td>匹配输入字符串的开始位置</td>
</tr>
<tr>
<td>$或\Z</td>
<td>匹配输入字符串的结束为止</td>
</tr>
<tr>
<td>\b</td>
<td>匹配单词的边界</td>
</tr>
<tr>
<td>\B</td>
<td>匹配除单词边界以外的部分</td>
</tr>
<tr>
<td>[]</td>
<td>匹配方括号中指定的任意一个原子</td>
</tr>
<tr>
<td>[^]</td>
<td>匹配除方括号中指定的任意一个原子</td>
</tr>
<tr>
<td>()</td>
<td>匹配器整体为一个原子，即模式单元可以理解为多个原子组成的大原子</td>
</tr>
</tbody>
</table>
<p>栗子如下：</p>
<pre tabindex="0"><code>/a\s*b/        --可以匹配在a和b之间没用空白，一个空白或多个空白的情况
/a\d+b/		----可以匹配在a和b之间1个数字或多个数字的情况
/a\W?b/		----可以匹配在a和b之间有一个货没有特殊字符的情况
/ax{4}b/		----可以匹配在a和b之间必须有4个x，如axxxxb
/ax{2,}b/      ----ab之间至少两个x
/ax{2,4}b/		--ab之间的x的个数在2,4之间

/^this/   --匹配此字符串是否是以this开始的
/this$/
/\bis\b/ ---匹配此字符串中是否含有is
/\Bis\b/  ----查找字符串is时，左边不能有边界，右边必须有边界，如this
/a.b/  
/Linux|Apache|mysql/
/(very)*good/ ---可以匹配good,very good,very very good ....等
/(Windows)(Linus)\\2OS/  ---使用\2再次引用第二个缓冲区中的字符串Linux
/(?:windows)(linux)\\1OS/ ---使用?:忽略了第一个表达式的存储，所以\1引用的就是Linux</code></pre><h3 id="模式匹配的优先级" class="heading-element">
  <a href="#%e6%a8%a1%e5%bc%8f%e5%8c%b9%e9%85%8d%e7%9a%84%e4%bc%98%e5%85%88%e7%ba%a7" class="heading-mark"></a>模式匹配的优先级：</h3><table>
<thead>
<tr>
<th>元字符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>\</td>
<td>转义符号</td>
</tr>
<tr>
<td>()、(?: )、(?=)、[]</td>
<td>模式单元和原子表</td>
</tr>
<tr>
<td>*、+、?、{n}、{n,}、{n,m}</td>
<td>重复匹配</td>
</tr>
<tr>
<td>^、$、\b、\B、\A、\Z</td>
<td>边界限制</td>
</tr>
<tr>
<td>|</td>
<td>模式选择</td>
</tr>
</tbody>
</table>
<h4 id="模式修正符" class="heading-element">
  <a href="#%e6%a8%a1%e5%bc%8f%e4%bf%ae%e6%ad%a3%e7%ac%a6" class="heading-mark"></a>模式修正符</h4><p>模式修正符是在正则表达式定界符之外使用</p>
<table>
<thead>
<tr>
<th>模式修正符</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>i</td>
<td>在和模式进行匹配是不区分大小写</td>
</tr>
<tr>
<td>m</td>
<td>将字符串视为多行。默认的正则开始^和结束$竟目标字符串作为单一的一行字符（甚至其中包含有换行符也是如此）。如果在修正符中加上m，那么开始和结束将会指字符串的每一行，每一行的开头是^，结束是$</td>
</tr>
<tr>
<td>s</td>
<td>如果设定了次修正符，则模式中的圆点字符.匹配所有字符，包括换行符。即将字符串视为单行，换行符作为普通字符看待</td>
</tr>
<tr>
<td>x</td>
<td>模式中的空白忽略不计，除非它已经被转义</td>
</tr>
<tr>
<td>e</td>
<td>只用在preg_replace()函数中，在替换字符串中对逆向引用做正常的替换，将其作为PHP代码求值，并用其结果来替换所搜索的字符串</td>
</tr>
<tr>
<td>U</td>
<td>本修正符反转了匹配数量的值使其不是默认的重复，而变成在后面跟上?才变得重复</td>
</tr>
<tr>
<td>D</td>
<td>模式中的美元字符仅匹配字符串的结尾。没有此选项是，如果最后一个字符是换行符，则美元符号也会匹配此字符之前的内容。如果设定了m修正符，则忽略此选项。</td>
</tr>
</tbody>
</table>
</div><div class="post-footer" id="post-footer">
  <div class="post-info">
    <div class="post-info-line">
      <div class="post-info-mod">
        <span title="更新于 2020-11-21 00:24:49">更新于 2020-11-21&nbsp;</span>
      </div><div class="post-info-license">
            <span><a rel="license external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a></span>
          </div></div><div class="post-info-line">
        <div class="post-info-md"></div>
        <div class="post-info-share">
          <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="http://localhost:1313/posts/python__re%E6%A8%A1%E5%9D%97%E4%B8%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" data-title="Python__RE模块与正则表达式" data-hashtags="Python"><i class="fa-brands fa-twitter fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="http://localhost:1313/posts/python__re%E6%A8%A1%E5%9D%97%E4%B8%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" data-hashtag="Python"><i class="fa-brands fa-facebook-square fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="http://localhost:1313/posts/python__re%E6%A8%A1%E5%9D%97%E4%B8%8E%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" data-title="Python__RE模块与正则表达式"><i class="fa-brands fa-weibo fa-fw" aria-hidden="true"></i></a>
  </span>
        </div>
      </div></div>

  <div class="post-info-more">
    <section class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href="/tags/python/" class="post-tag" title="标签 - Python">Python</a></section>
    <section>
      <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
    </section>
  </div>

  <div class="post-nav"><a href="/posts/sql%E6%B3%A8%E5%85%A5%E5%B0%8F%E7%BB%93/" class="post-nav-item" rel="prev" title="SQL注入小结"><i class="fa-solid fa-angle-left fa-fw" aria-hidden="true"></i>SQL注入小结</a>
      <a href="/posts/buu-re-1/" class="post-nav-item" rel="next" title="BUU_RE_1">BUU_RE_1<i class="fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article>

  <aside class="toc" id="toc-auto" aria-label="目录"><h2 class="toc-title">目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden="true"></i></h2>
      <div class="toc-content" id="toc-content-auto"></div></aside></main><footer class="footer">
    <div class="footer-container"><div class="footer-line powered">由 <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreferrer" title="Hugo 0.124.1"><img class="hugo-icon" src="/images/hugo.min.svg" alt="Hugo logo" /> Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/hugo-fixit/FixIt" target="_blank" rel="external" title="FixIt v0.3.2"><img class="fixit-icon" src="/images/fixit.min.svg" alt="FixIt logo" /> FixIt</a>
        </div><div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2024</span><span class="author" itemprop="copyrightHolder">
              <a href="/"></a></span></div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="回到顶部"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric d-none">0%</span>
        </div></div><div id="mask"></div><noscript>
    <div class="noscript-warning">FixIt 主题在启用 JavaScript 的情况下效果最佳。</div>
  </noscript>
</div><link rel="preload" href="/lib/katex/katex.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/katex/katex.min.css"></noscript><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="/lib/sharer/sharer.min.js" async defer></script><script src="/lib/katex/katex.min.js" defer></script><script src="/lib/katex/auto-render.min.js" defer></script><script src="/lib/katex/copy-tex.min.js" defer></script><script src="/lib/katex/mhchem.min.js" defer></script><script src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script>window.config={"code":{"copyTitle":"复制到剪贴板","editLockTitle":"锁定可编辑代码块","editUnLockTitle":"解锁可编辑代码块","editable":true,"maxShownLines":10},"comment":{"enable":false},"cookieconsent":{"content":{"dismiss":"同意","link":"了解更多","message":"本网站使用 Cookies 来改善您的浏览体验。"},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script src="/js/theme.min.js" defer></script></body>
</html>
